<?xml version="1.0"?>
<!DOCTYPE StGermainData SYSTEM "stgermain.dtd">
<StGermainData xmlns="http://www.vpac.org/StGermain/XML_IO_Handler/Jun2003">

<param name="Name">PCDVC</param>
<param name="Author">Mirko Velic</param>
<param name="Organisation">MCC</param>
<param name="Project">Underworld</param>
<param name="Location">./PICellerator/Utils/src/</param>
<param name="Project Web">http://mcc.monash.edu.au/Underworld</param>
<param name="Copyright">Copyright (C) 2006 Monash Cluster Computing.</param>
<param name="License">http://www.opensource.org/licenses/bsd-license.php</param>
<param name="Parent">DVCWeights</param>
<param name="Reference">...</param>
<param name="Summary">...</param>
<param name="Description">Calculates PIC integration weights and handles Population Control in 3D and 2D using a Voronoi diagram. The integration points are set to the centroid of a Voronoi cell and
 the weight is the volume of the cell.</param>


<list name="Params">

</list>

<list name="Dependencies">
   <param name="Type">DVCWeights</param>
</list>

<!-- Example Usage -->
<!-- Use this struct -->
<struct name="weights">
   <param name="Type">PCDVC</param>
   <param name="resolution">10</param>
   <param name="lowerT">0.6</param>
   <param name="upperT">25</param>
   <param name="maxDeletions">3</param>
   <param name="maxSplits">3</param>
   <param name="splitInInterfaceCells">True</param>
   <param name="MaterialPointsSwarm">materialSwarm</param>
</struct>

<!-- or one can use this struct instead -->
<struct name="weights">
   <param name="Type">PCDVC</param>
   <param name="resolutionX">10</param>
   <param name="resolutionY">10</param>
   <param name="resolutionZ">10</param>
   <param name="lowerT">0.6</param>
   <param name="upperT">25</param>
   <param name="maxDeletions">3</param>
   <param name="maxSplits">3</param>
   <param name="splitInInterfaceCells">True</param>
   <param name="MaterialPointsSwarm">materialSwarm</param>
</struct>
<!-- where the X Y Z resolutions may be all different -->
<!-- upperT and lowerT represent upper and lower volume percentage thresholds
     for population control criteria -->

<!-- Then do this -->
<!-- The file InputFiles/PIC_Components/MaterialPointSwarm.xml
     should alreay have this in it -->
<struct name="localLayout">
	<param name="Type">MappedParticleLayout</param>
</struct>
<struct name="picIntegrationPoints">
	<param name="Type">IntegrationPointsSwarm</param>
	<param name="CellLayout">elementCellLayout</param>
	<param name="ParticleLayout">localLayout</param>
	<param name="FiniteElement_Mesh">mesh-linear</param>
	<param name="WeightsCalculator">weights</param>
	<param name="TimeIntegrator">timeIntegrator</param>
	<param name="IntegrationPointMapper">mapper</param>
</struct>


<!-- You need this too -->
<struct name="mapper">
   <param name="Type">CoincidentMapper</param>
   <param name="IntegrationPointsSwarm">materialPoints</param>
   <param name="MaterialPointsSwarm">materialSwarm</param>
</struct>

<!-- See MaterialPointsSwarm.xml in Underworld/InputFiles/PIC_Components for an example -->

</StGermainData>
